<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>My web page</title>
    <link rel="stylesheet" href="style.css">
    <script src='https://cdn.jsdelivr.net/npm/p5@2.0.3/lib/p5.min.js'></script>
</head>
<body>
    <h1>私のページ</h1>
    <ul>
        <li>みけ</li>
        <li>さび</li>
        <li>あか</li>
        <li></li>
    </ul>
    <p id="gradation"></p>
    <p id="squares"></p>
    <button id="clickbtn">Click!</button><br>
    入力: <input type="text" id="cname" size="10"><br>
    入力 (<span id="cdisplay"></span>)は
          <span id="validity">無効な</span>色です。</p>
    <input type="number" id="finput" value="0" min="0" max="22">
        の階乗は <span id="fresult">1</span> です
    色を選択: <input type="color" id="cpicker" value="#ff0000"><br>
        選択した色は <code id="cstring">#ff0000</code> です。
    
    <script>
        const gradation = document.getElementById("gradation");
        for (let i = 0; i < 360; i += 15) {
            const color = `oklch(80% 100% ${i})`;
            gradation.insertAdjacentHTML("beforeend",
                `<span style="color: ${color};">█</span>`);
        }

        const board =[["blue","white","red"],
                      ["black","yellow","red"],
                      ["orange","white","green"]];
        const squares = document.getElementById("squares");
        for(let row of board){
            for(let color of row){
                squares.insertAdjacentHTML("beforeend",
                    `<span style="color: ${color};">█</span>`);
            }
            squares.insertAdjacentHTML("beforeend","<br>");
        }

        const clickbtn = document.getElementById("clickbtn");
        clickbtn.addEventListener("click", ev => {
            clickbtn.insertAdjacentHTML("beforeend", "!");
            if (clickbtn.innerHTML.length > 15) {
                clickbtn.innerHTML = "Click!";
            }
        });

        const cname = document.getElementById("cname");
        const cdisplay = document.getElementById("cdisplay");
        const valibity = document.getElementById("valibity");
        cname.addEventListener("change",ev => {
            const color = cname.value;
            cdisplay.innerHTML = color;
            if(color && CSS.supports("color",color)){
                cdisplay.style.color = color;
                cdisplay.style.backgroundColor = null;
                valibity.innerHTML = "有効な";
            }else{
                cdisplay.style.color = "white";
                cdisplay.style.backgroundColor = "red";
                validity.innerHTML = "無効な";
            }
        });

        const finput = document.getElementById("finput");
        const fresult = document.getElementById("fresult");
        finput.addEventListener("change", ev => {
            const input = finput.value;
            let result = 1;
            for(let i = 2; i <= input; i++){
                result *= i;
            }
            fresult.innerHTML = result;
        });

        const cpicker = document.getElementById("cpicker");
        const cstring = document.getElementById("cstring");
        cpicker.addEventListener("change", ev => {
            const color = cpicker.value;
            cstring.innerHTML = color;
            cstring.style.color = "white";
            cstring.style.backgroundColor = color;
        });

        function setup() {
            createCanvas(320, 180); // キャンバスのサイズを指定
        }

        /*function draw() {
            background("lightgray"); // 背景色を設定
            noFill();
            stroke("red");
            line(25, 25, 125, 75);
            stroke("green");
            rect(25, 25, 100, 50);
            stroke("blue");
            fill("orange");
            ellipse(200, 50, 120, 60);
            noStroke();
            fill("cyan");
            triangle(50, 170, 200, 170, 100, 120);
            fill("magenta");
            triangle(75, 160, 225, 160, 125, 110);
            fill("yellow");
            triangle(100, 150, 250, 150, 150, 100);
        }*/
        /*function draw(){
            noStroke();
            for (y = 0; y < 180; y += 10) {
                for (x = 0; x < 320; x += 10) {
                    fill(`oklch(90% ${100 - x / 3.2}% ${y * 2})`);
                    ellipse(x + 5, y + 5, 8, 8);
                }
            } 
        }
        /*function draw(){
            const n = 100;
            const fruits =["🍏", "🍑", "🍇", "🍐"];
            textSize(10);
            for (let count = 0; count < n; count++) {
                let r = 20 + count / n * 70, t = count * 19;
                let x = 160 + 1.6 * r * cos(t / 180 * 3.14), 
                    y = 100 + r * sin(t / 180 * 3.14);
                text(fruits[count % fruits.length], x, y);
            }
        }*/
        /*function draw(){
            textSize(18);
            const chars = ["か", "が", "わ", "だ", "い", "が", "く"];
            for (let x = 0; x < 320; x += 20) {
                for (let y = 0; y < 180; y += 20) {
                    let h = random(360);
                    fill(`oklch(50% 100% ${h})`);
                    let c = random(chars);
                    text(c, x, y + 20);
                }
            }
            noLoop(); // draw() は一度だけ実行する
        }*/
        /*function draw(){
            noStroke();
            for (let i = 0; i < 300; i++) {
                const x = random(5, 315);
                const y = random(5, 175);
                const h = random(0, 360);
                let a = 1;
                if ((x - 160) * (x - 160) * 0.316 + (y - 90) * (y -90) > 4900) {
                    a = 0.1;
                }
                fill(`oklch(80% 70% ${h} / ${a})`)
                ellipse(x, y, 10, 10);
            }
            noLoop();
        }*/
        
        function setup() {
            createCanvas(320, 180);
        }
        function draw() {
            stroke("black");
            strokeWeight(0.1);
            // ここに図形を描画するコードを追加
            for (y = 0; y < 180; y += 10) {
                for (x = 0; x < 320; x += 10) {
                    fill(`oklch(75% 50% ${340 - y * 2})`);
                    rect(x, y, 320 - y, 180 - x);
                }
            } 
        }

        // alert("Hello, world!");
        //https://oku-ram.github.io/testwebsite/
    </script>
</body>
